# Typecho主题 - Initial-M 简约而不简单（v3.1.0）

## 分支说明

- **master 分支**：稳定版本，推荐生产环境使用
- **dev 分支**：开发测试版本，包含最新功能但可能存在不稳定因素

## 版本更新日志

### v3.1.0 (2026-02-23)

侧边栏样式优化

### v3.1.0 (2026-02-23)

#### 主要功能更新

1. **公告栏功能**
   > - 新增公告栏设置选项，支持在页面顶部显示公告
   > - 支持HTML标签，可自定义公告内容
   > - 使用方法：在主题设置中开启公告栏并输入内容即可

2. **Google广告初始化优化**
   > - 优化广告初始化逻辑，各广告位独立管理
   > - 避免不必要的重复 push

#### 主要修复内容

1. **Typecho 1.3.0兼容性修复**
   > - 解决 `Widget\Base\Contents::push()` 错误，确保在 Typecho 1.3.0 环境下正常运行
   > - 优化 `FindContent` 和 `FindContents` 函数，增加空值检查
   > - 保持向下兼容性，可在 Typecho 1.1 和 1.3.0 环境下运行

2. **链接跳转问题修复**
   > - 修复侧边栏文章、轻语、底部友链区域的 a 标签链接问题

3. **Gravatar头像源优化**
   > - 更新头像源选项 新增：cravatar.com、weavatar.com、sep源

4. **轻语图片显示修复**
   > - 修复轻语子评论中图片不显示的问题
   > - 优化子评论显示格式，文字在同一行且图片可正常显示

### v3.0.0 (2026-02-15)

#### 主要功能更新

1. **分页导航优化**
   - 将首页、分类页等分页导航显示页码数量从0改为2，提升用户体验

2. **标题链接优化**
   - 为文章标题链接添加`title`属性，提升用户体验和SEO效果

3. **回复可见功能**
   - 支持使用`[hidden]`标签隐藏内容，只有登录用户或评论回复后才能查看

4. **主题设置备份功能**
   - 支持备份、还原和删除主题设置数据，避免设置丢失

5. **评论验证码功能**
   - 添加数学验证码防垃圾评论功能，提升网站安全性

6. **备案号功能**
   - 支持同时显示ICP备案号和公安备案号，更新为最新的备案查询链接

7. **Google广告功能**
   - 支持在主题设置中填写广告代码，采用延迟加载方式提升页面速度
   - 支持为广告容器自定义CSS样式，提升广告展示效果
   - Google reCAPTCHA可开启替换，保证某些地区可以正常访问


### 使用说明
1. **回复可见**：在文章中使用`[hidden]`和`[/hidden]`标签包裹需要隐藏的内容
（未完待续...）


### 计划中
1. SEO配置优化
2. ...

### 历史版本

 基于原作者v2.5.5版本 (2023-02-20)

### 鸣谢
- 感谢原作者JIElive创建的[Initial](https://github.com/jielive/initial)主题